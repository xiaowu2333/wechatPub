<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>扫一扫测试</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<script src="http://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
</head>
<body>
	<button id="btn">扫一扫</button>
    <script>
    
    	
    	wx.config({
			  debug: false, // 开启调试模式
			  appId: 'wxb4651a9e12189ac8', // 必填，公众号的唯一标识
			  timestamp:<%=timestamp%> , // 必填，生成签名的时间戳
			  nonceStr: '<%=nonceStr%>', // 必填，生成签名的随机串
			  signature: '<%=signature%>',// 必填，签名
			  jsApiList: ["scanQRCode"] // 必填，需要使用的JS接口列表
	   });
		
		var btn = document.getElementById("btn");
		btn.addEventListener("click",function(){
 			wx.scanQRCode({
				  needResult: 0, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，
				  scanType: ["qrCode","barCode"], // 可以指定扫二维码还是一维码，默认二者都有
				  success: function (res) {
				    var result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果
				  }
			})
 		})


    </script>
</body>
</html>